CREATE TABLE [dbo].[Accounts] (
    [AccountId] [int] NOT NULL IDENTITY,
    [Email] [nvarchar](50) NOT NULL,
    [Password] [nvarchar](30) NOT NULL,
    [FirstName] [nvarchar](50) NOT NULL,
    [LastName] [nvarchar](50) NOT NULL,
    [MobilePhone] [nvarchar](12),
    [Gender] [tinyint],
    [Birthdate] [datetime] NOT NULL,
    [FkCityId] [int] NOT NULL,
    [Enable] [bit] NOT NULL,
    [LastLoginTime] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Accounts] PRIMARY KEY ([AccountId])
)
CREATE TABLE [dbo].[Cities] (
    [CityId] [int] NOT NULL IDENTITY,
    [CityName] [nvarchar](max),
    [FkProvinceId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Cities] PRIMARY KEY ([CityId])
)
CREATE TABLE [dbo].[Provinces] (
    [ProvinceId] [int] NOT NULL IDENTITY,
    [ProvinceName] [nvarchar](max),
    [Country_CountryId] [int],
    CONSTRAINT [PK_dbo.Provinces] PRIMARY KEY ([ProvinceId])
)
CREATE TABLE [dbo].[Countries] (
    [CountryId] [int] NOT NULL IDENTITY,
    [CountryName] [nvarchar](max),
    [LatinName] [nvarchar](max),
    CONSTRAINT [PK_dbo.Countries] PRIMARY KEY ([CountryId])
)
CREATE TABLE [dbo].[TicketQstions] (
    [QstionId] [int] NOT NULL IDENTITY,
    [QstionTitle] [nvarchar](50) NOT NULL,
    [QstionContent] [nvarchar](500) NOT NULL,
    [RegTime] [datetime] NOT NULL,
    [FkAccountId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.TicketQstions] PRIMARY KEY ([QstionId])
)
CREATE TABLE [dbo].[Comments] (
    [CommentId] [int] NOT NULL IDENTITY,
    [ComTitlle] [nvarchar](50) NOT NULL,
    [ComContent] [nvarchar](500) NOT NULL,
    [ComTime] [datetime] NOT NULL,
    [Cominfo_CommnenterFullName] [nvarchar](50) NOT NULL,
    [Cominfo_CommenterMail] [nvarchar](50) NOT NULL,
    [Cominfo_CommenterIpAddress] [nvarchar](max),
    [Cominfo_CommeterId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Comments] PRIMARY KEY ([CommentId])
)
CREATE INDEX [IX_FkCityId] ON [dbo].[Accounts]([FkCityId])
CREATE INDEX [IX_FkProvinceId] ON [dbo].[Cities]([FkProvinceId])
CREATE INDEX [IX_Country_CountryId] ON [dbo].[Provinces]([Country_CountryId])
CREATE INDEX [IX_FkAccountId] ON [dbo].[TicketQstions]([FkAccountId])
ALTER TABLE [dbo].[Accounts] ADD CONSTRAINT [FK_dbo.Accounts_dbo.Cities_FkCityId] FOREIGN KEY ([FkCityId]) REFERENCES [dbo].[Cities] ([CityId]) ON DELETE CASCADE
ALTER TABLE [dbo].[Cities] ADD CONSTRAINT [FK_dbo.Cities_dbo.Provinces_FkProvinceId] FOREIGN KEY ([FkProvinceId]) REFERENCES [dbo].[Provinces] ([ProvinceId]) ON DELETE CASCADE
ALTER TABLE [dbo].[Provinces] ADD CONSTRAINT [FK_dbo.Provinces_dbo.Countries_Country_CountryId] FOREIGN KEY ([Country_CountryId]) REFERENCES [dbo].[Countries] ([CountryId])
ALTER TABLE [dbo].[TicketQstions] ADD CONSTRAINT [FK_dbo.TicketQstions_dbo.Accounts_FkAccountId] FOREIGN KEY ([FkAccountId]) REFERENCES [dbo].[Accounts] ([AccountId]) ON DELETE CASCADE
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201507301759270_AutomaticMigration', N'ChessLandPrj.DataLayer.Configuration',  0x1F8B0800000000000400DD5CDD6EEBB811BE2FD0771074D51667E3FCA0C036707691E37352049B9CA471CEA277012331B67A24CA95E83446D127DB8B7DA4BE42494AA2F82B91B26CA78BDC24A4381CCE7C1C0E8733F9EF2FBF4E7F7CCBD2E015166592A38BF0E4E8380C208AF238418B8B708D5FBEFB3EFCF187DFFF6EFA39CEDE829F9BEFCEE87764242A2FC225C6ABF3C9A48C963003E5519644455EE62FF828CAB30988F3C9E9F1F15F262727134848848456104C1FD6082719647F903F67398AE00AAF417A9BC7302DEB76D2336754832F2083E50A44F0229C2D6159DE0014DF17FF38FA0430B8011B5884C1659A00C2CD1CA62F610010CA31C084D7F3AF259CE322478BF98A3480F471B382E4BB179096B05EC379FBB9EB728E4FE97226EDC08654B42E719E79123C39ABE53351870F9272C8E5C7649BAD52F84697CDC44824986719C4B0B8462F7918A8339ECFD2827EAC48BA52CC9138F643207EF181A3838088FE90EE758AD705BC40708D0B907E08EED7CF6912FD04378FF937882ED03A4D455E09B7F745BE8205DE08AC2288C88457E45BDA1606157344A704A261700BDE6E205AE0E545F86782C9ABE40DC64D43ADE3AF282180266370B1267F7E2194C0730A79FFA49705C6C12D48D2C3CD7EBDBA8CE38288BB8305F2AB130F0E53D219E366AA6B84CF4E7B589F4E04A089ED9FC94EC71B017E97519493EDEF8BBC7AD82E4047FAA40641260FF045669B4A4591DF441DAF4A5418DA2D504116739C17F0AF10C1026018DF034C34428CC9750C993CFB94F8393B045AEF4159FE2B2FE28E89CF7632F1555294F820E6E1061C68E2DBFC3949E1FD32475D739F9C8E6011080C637AC456B37CDCE0DE111F93022F6380396BE4A0868F493640B3DF6604EE7EB6C8B01D10FD98AF20CF5308D0205DDFE48B04552BF15DD917F09A2CD8EE562D2EDBD00F30659DE53259557E4C63F39EAA0FAE8A3C7BC8D3D6A0B0F6A779BE2E22CA4E6EE87C04C502627756FE5632168CDC3C26D13788AB2F9EC82C22476A1F9FB8E14AFBA0615B3E44DAD3A2F30CA904E2E9BA9031073B3D1A10FB1E1D6EE01FEFDCA0F3F598B371BC8CAB6FA4E135217EBFF7DEB68297523422976D85AAB7852C6FD47650DB63DA3ECE206D16E80BD466DCC1C02A6AC617B0EE5A1D0FB4CD9CBB01AEDD6C53335B982D77C3D213FFA8059EDAA7E14FFB602B18720E7C6F7A6CD8E12C6635FF20A3D90EDD9BDDACA6DC8BE9BC211CA31DCCE48C28F12CF7859538F660D8AAA61F02AD76E4BE9055CDF898E0B44BDFBBB9635473CF728421BDB077CCBE93E91FE06298A7ADF91ACE377057DBCFDCDF6D7D64D5EE5B9DE881769F858E0645F80E1867A9E71F66F7F9D0FDD9FD8C6ECD03EC4D32F3C136265BF5081B93D0495810BA5E00F3D5A5E8744FCCD1BC152ECB328F12A65FC543E4EE98CCD66714077DBE59CB61EBD7DF923D90AC08EA091317E19FB4E576D0E5F76371E5B5A326933D3E3A3A51D72DACB07BE1EDCDC7C699E11A24B0C4B680FB32F59B9383DC4E42D52ADCA14F302520082EA3EA0D6506CA08C43A9E080062B985181258D0BD0B52B23D4A629A128475AB43F8485620B5B1AD0CF0BC2551C6F8146ACF27B8A2E134846DF277995BBE3DEBB3F3491471F549C70359526CCA860773A0AA85047F0B70879831BCD503D9C323CCC4B58BA2CD71232F809974E08631FBE47BC097E649D9006177AB5A50C8371677B0D9C39ABD183E3CE66CCCBB28DFFADAE5053D9B6ADCE0D7C9C3E808AC5C09EA529111B068F6DF9278C0CCCF7A3379D25F4B583BD365ED4AA948A244E710CB622DC3A0F55C541869609449904D9940138199C95D554737C78689407B3EF7B1C01C150B178D13D343438486898EBC637B19628EBF999FFA16A4901050A04BA78DDA099FD9227B2A341D9C49CEBFA4100DE40EEEA34049D08A6A4FE4C53A08420898EB12B0F8943D5EA5C8690DE18E05EB8EA48BCC06AC547E62D3176B7773FA1D1D81E576E3772CDAE8DAF4CA6DC0A2F52885BEF0EEF3D7ED04167857F67B8714AC67AE83383B64D15C16B985E77DD34995655637D04C16633ADAF416AC56E4862DA4A7D52DC1BCCE4DFB6EEE9FB0955534265119769C477C269C176001955EBAFB63C8B220684ADC33A057E5599CE99F89E799C5A83653294796AEB1C6D43603E8EFCDB1694AD2E3679C7EFED724AEC8DAA8B966CB84BAC2F59101CD11042928EC3937B33C5D67A8D7AFB1D3AA9369443A75933B8D36354624D3B6BA5312725D445242B33BAD367B4524D5B6BA5392D251446252873BBD26E74424D5B4B95311F250444242B387DCF97D4812BBF596D481A73A1B450254DDE6A73B211B4555A0D0A5D39C4E940DA7F9D7DAEED6AE28B2B570B225F501368225311DC70E66C43CCC266193BEFDB5DDA654A8747CF7981CF59151D8150F3A98BE5B476D0495F3EB89BFDAED43ADE6DA22E86E31F751D36120F7BC1BC5B5778931F6AAF9A2E4B25D6D23AD7BAD7DF997369B2D97C0819661EB8A1D3EF69A3FDBCBB69A37BF1BF5CBCEFA0810906EF3FE38E81E6E1378FB562FCADBF6F6DF4FA97E83D789D51DBEF4F8F39D4E9177B9D3E48FE52235DEE873C8585CE7CE80DC012D551DFA19C55055B1A22186CA32D26E5CF853B56C5A2C8FDF3DB49A37688556D3EC45CB084BB1DD9333DD7C661D98ACAB48BA1E8AFB75D83C1F1B26E852885A69A4704D3978327D675A488FE29B7222DB14C22783A80BE5429D5308DF79CF53D70859E9D7FD46354F143DEFDD9CC87122B3DBDA86819D9DD37688AB0F4A235F1677518DF6EA421AE0043D753843ECE5C9A212173EADCF3BA3F9D89D1C120B1527EC09F1BAA489233C69C44B0C6A0C51878F164A543FE1E0E52145257438ADC3780EE5AE6A5CAFFA240C9894621AD39B6F4A0C3306C6A3F93FD3599A3033DD7C700B50F2024B5CA56585A7C7C7DF2BD5B2EFA772755296716A08831ACA07659DEDBD842FA122EE4D1EF32D5312ABF6D02B28A22528B45CB22D8BF28C74CFFCE96A35776331AC96D48D45D7503167247D22A50CFA17C891FBDC86C1C38F885633477FC763D4CC25C62CD06BC2F3DB45F86F36E83CB8FEFB5333EE43705790F59C07C7C17FB62CB57B4EF03865768EC2F0AB201B6043C629E4DA89F5506BB71A70FF21036F7FF445A3A93ECB1D47ED580F2CF917560DD09FDDB91852DBB4133DCA31C11174697079FC14AA11B069758BA2127366EEDE4B8576B333F5EAA0AD14AA550079501B56E533402BE315D9EC442786BA9AB11C0D63D98C85B83F75A52A660B2FC1ECD43A19783E7417F6DD184DDB7FF5C88E4C8152303216E8F47A90D110A7947B0C465C570C6D74619842693B9E44FB1F3D5B9EDA7A2C4D00E6BE2B63A458986FC54A604A661C585433ACC2C3FA06E9E14E043EB9CF1DCFD5D629BB63737B48BAEF2F17F252DEA839F07272E88032A541C0F1526377E4D2AB24E8375506E4A4B01D8185E7D50F293B1A5C4DB6E7E29EDF54418F87C6768419B9F860701DD136956207AAD2F97F2ACDD1329E55751A6B6FBA4A6FAAB715E2E13ED3A7E6CABBB2A69A6B4528CCA6E90528ACD944D992CEAFD26D0F578D76DB65A26F2F93D0EB676A3FCE503ED33C679A1660AD38512790F78D368BDC6D9AAAB37CC0560FD4550E645E4F534674806221450752FE9B4B6990B142E63D9402793168701BD4F4DD7753F3E3C49EF964335436BCBBAA1E0F663B0E4F5B16DF4E0A77F4577572EA08FF6A9A1C7D65B26849D08C010423E9BCE1DFD00CA2E6EC53386A3E511F18210631398C2E0B9CBC8008936E627D4BF64F397E06E91AD217DE67185FA3BB355EAD315932CC9E530933F4F8EC9A9F5527C93C4FEF56CC2C8EB104C26642E33B77E8E33A4963CEF79521C6602141CFE53A6046758969E06CB1E194BE6885203642B5F8B83BF108B3554A889577680E5EE110DEBE96F0062E40B4699223EC44FA15218B7DFA29018B0264654DA31D4FFE24188EB3B71FFE075A995EBC715D0000 , N'6.1.3-40302')

